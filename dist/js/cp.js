(()=>{"use strict";var t,e={263:()=>{const t={props:{period:{type:String}},data:function(){return{data:void 0}},watch:{period:{immediate:!0,handler:function(){this.loadData()}}},methods:{loadData:function(){var t=this;this.$axios.post("/cp/analytics/dashboard/stats",{type:this.type,period:this.period}).then((function(e){t.data=e.data.data}))}}};function e(t,e,s,i,n,a,r,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):n&&(l=o?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}const s=e({mixins:[t],data:function(){return{type:"general"}},computed:{visitDuration:function(){var t=Math.floor(this.data.visitDuration),e=t%60,s=(t-e)/60;return s?"".concat(s,"m ").concat(e,"s"):"".concat(e,"s")}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card content"},[t.data?s("div",{staticClass:"flex justify-start divide-x"},[s("div",{staticClass:"pr-8"},[s("div",{staticClass:"text-sm uppercase"},[t._v("Unique Visitors")]),t._v(" "),s("div",{staticClass:"text-lg font-bold"},[t._v(t._s(t.data.uniqueVisitors))])]),t._v(" "),s("div",{staticClass:"px-8"},[s("div",{staticClass:"text-sm uppercase"},[t._v("Total visits")]),t._v(" "),s("div",{staticClass:"text-lg font-bold"},[t._v(t._s(t.data.visits))])]),t._v(" "),s("div",{staticClass:"px-8"},[s("div",{staticClass:"text-sm uppercase"},[t._v("Pageviews")]),t._v(" "),s("div",{staticClass:"text-lg font-bold"},[t._v(t._s(t.data.pageviews))])]),t._v(" "),s("div",{staticClass:"px-8"},[s("div",{staticClass:"text-sm uppercase"},[t._v("Views per Visit")]),t._v(" "),s("div",{staticClass:"text-lg font-bold"},[t._v(t._s(t.data.viewsPerVisit.toFixed(1)))])]),t._v(" "),s("div",{staticClass:"pl-8"},[s("div",{staticClass:"text-sm uppercase"},[t._v("Visit Duration")]),t._v(" "),s("div",{staticClass:"text-lg font-bold"},[t._v(t._s(t.visitDuration))])])]):t._e()])}),[],!1,null,null,null).exports;const i=e({props:{items:{type:Array,default:[]}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"flex justify-between text-slate-500 mb-1"},[s("div",{staticClass:"flex-grow"},[t._t("header1")],2),t._v(" "),s("div",{staticClass:"text-right"},[t._v("Visitors")])]),t._v(" "),t._l(t.items,(function(e){return s("div",{key:e[0],staticClass:"flex justify-between gap-8"},[s("div",{staticClass:"flex-grow pl-0 truncate"},[t._v(t._s(e[0]))]),t._v(" "),s("div",{staticClass:"text-right"},[t._v(t._s(e[1]))])])}))],2)}),[],!1,null,null,null).exports;const n=e({components:{List:i},mixins:[t],data:function(){return{type:"sources"}},computed:{items:function(){return(this.data||[]).map((function(t){return[t.source||"Direct / None",t.visitors]}))}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card content w-full h-full"},[s("h3",{staticClass:"font-bold mb-2"},[t._v("Top Sources")]),t._v(" "),s("list",{attrs:{items:t.items},scopedSlots:t._u([{key:"header1",fn:function(){return[t._v("Source")]},proxy:!0}])})],1)}),[],!1,null,null,null).exports;const a=e({components:{List:i},mixins:[t],data:function(){return{type:"pages"}},computed:{items:function(){return(this.data||[]).map((function(t){return[t.path,t.visitors]}))}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card content w-full h-full"},[s("h3",{staticClass:"font-bold mb-2"},[t._v("Top Pages")]),t._v(" "),s("list",{attrs:{items:t.items},scopedSlots:t._u([{key:"header1",fn:function(){return[t._v("Page")]},proxy:!0}])})],1)}),[],!1,null,null,null).exports;const r=e({components:{List:i},mixins:[t],data:function(){return{type:"locations"}},computed:{items:function(){return(this.data||[]).map((function(t){return[t.country,t.visitors]}))}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card content w-full h-full"},[s("h3",{staticClass:"font-bold mb-2"},[t._v("Locations")]),t._v(" "),s("list",{attrs:{items:t.items},scopedSlots:t._u([{key:"header1",fn:function(){return[t._v("Country")]},proxy:!0}])})],1)}),[],!1,null,null,null).exports;var o=e({components:{List:i},mixins:[t],data:function(){return{type:"browsers"}},computed:{items:function(){var t=this;return(this.data||[]).map((function(e){return[e[t.key],e.visitors]}))},key:function(){return{browsers:"browser",operatingSystems:"os",devices:"device"}[this.type]},title:function(){return{browsers:"Browser",operatingSystems:"OS",devices:"Size"}[this.type]}},methods:{setType:function(t){this.type=t,this.loadData()}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card content w-full h-full"},[s("div",{staticClass:"flex justify-between"},[s("h3",{staticClass:"font-bold mb-2"},[t._v("Devices")]),t._v(" "),s("div",{staticClass:"flex gap-2"},[s("button",{class:{"text-blue-600":"browsers"===t.type},on:{click:function(e){return t.setType("browsers")}}},[t._v("Browser")]),t._v(" "),s("button",{class:{"text-blue-600":"operatingSystems"===t.type},on:{click:function(e){return t.setType("operatingSystems")}}},[t._v("OS")]),t._v(" "),s("button",{class:{"text-blue-600":"devices"===t.type},on:{click:function(e){return t.setType("devices")}}},[t._v("Size")])])]),t._v(" "),s("list",{attrs:{items:t.items},scopedSlots:t._u([{key:"header1",fn:function(){return[t._v(t._s(t.title))]},proxy:!0}])})],1)}),[],!1,null,null,null);const l=e({components:{General:s,Sources:n,Pages:a,Locations:r,Devices:o.exports},data:function(){return{period:"last 7 days"}},created:function(){}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"flex justify-between items-center mb-4"},[s("h1",{staticClass:"text-lg font-bold ml-4"},[t._v("Analytics")]),t._v(" "),s("div",{staticClass:"card p-2"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.period,expression:"period"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.period=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"last 1 day"}},[t._v("Today")]),t._v(" "),s("option",{attrs:{value:"last 7 days"}},[t._v("Last 7 days")]),t._v(" "),s("option",{attrs:{value:"last 30 days"}},[t._v("Last 30 days")]),t._v(" "),s("option",{attrs:{value:"all time"}},[t._v("All time")])])])]),t._v(" "),s("div",{staticClass:"widgets flex flex-wrap -mx-2 py-1"},[s("div",{staticClass:"widget w-full mb-4 px-2"},[s("general",{attrs:{period:t.period}})],1),t._v(" "),s("div",{staticClass:"widget w-1/2 mb-4 px-2"},[s("sources",{attrs:{period:t.period}})],1),t._v(" "),s("div",{staticClass:"widget w-1/2 mb-4 px-2"},[s("pages",{attrs:{period:t.period}})],1),t._v(" "),s("div",{staticClass:"widget w-1/2 mb-4 px-2"},[s("locations",{attrs:{period:t.period}})],1),t._v(" "),s("div",{staticClass:"widget w-1/2 mb-4 px-2"},[s("devices",{attrs:{period:t.period}})],1)])])}),[],!1,null,null,null).exports;const c=e({props:{wait:{type:Number,default:500}},data:function(){return{sizeEmitted:!1}},render:function(){return this.$scopedSlots.default({})},mounted:function(){new ResizeObserver(this.onResize).observe(this.$el)},methods:{onResize:function(t){var e=this,s=t[0].contentRect,i={width:s.width,height:s.height};if(!this.sizeEmitted)return this.$emit("size",i),void(this.sizeEmitted=!0);this.timeout||this.$emit("resizeStart",i),clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.$emit("resizeEnd",i),e.timeout=null}),this.wait)}}},undefined,undefined,!1,null,null,null).exports;Statamic.booting((function(){Statamic.$components.register("resize-container",c),Statamic.$components.register("analytics-dashboard",l)}))},531:()=>{}},s={};function i(t){var n=s[t];if(void 0!==n)return n.exports;var a=s[t]={exports:{}};return e[t](a,a.exports,i),a.exports}i.m=e,t=[],i.O=(e,s,n,a)=>{if(!s){var r=1/0;for(u=0;u<t.length;u++){for(var[s,n,a]=t[u],o=!0,l=0;l<s.length;l++)(!1&a||r>=a)&&Object.keys(i.O).every((t=>i.O[t](s[l])))?s.splice(l--,1):(o=!1,a<r&&(r=a));if(o){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[s,n,a]},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={641:0,30:0};i.O.j=e=>0===t[e];var e=(e,s)=>{var n,a,[r,o,l]=s,c=0;if(r.some((e=>0!==t[e]))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(l)var u=l(i)}for(e&&e(s);c<r.length;c++)a=r[c],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(u)},s=self.webpackChunk=self.webpackChunk||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})(),i.O(void 0,[30],(()=>i(263)));var n=i.O(void 0,[30],(()=>i(531)));n=i.O(n)})();