(()=>{"use strict";function t(t,e,i,n,o,s,a,r){var l,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=i,d._compiled=!0),n&&(d.functional=!0),s&&(d._scopeId="data-v-"+s),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},d._ssrRegister=l):o&&(l=r?function(){o.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(d.functional){d._injectStyles=l;var u=d.render;d.render=function(t,e){return l.call(e),u(t,e)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:d}}var e=t({props:{period:{type:String}},data:function(){return{pages:[]}},watch:{period:{immediate:!0,handler:function(){console.log(this.period),this.loadData()}}},methods:{loadData:function(){var t=this;this.$axios.post("/cp/analytics/dashboard/stats",{type:"pages",period:this.period}).then((function(e){console.log(e.data.data),t.pages=e.data.data}))}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h3",{staticClass:"mt-4 font-bold"},[t._v("Top Pages")]),t._v(" "),i("h4",[t._v(t._s(t.period))]),t._v(" "),t._l(t.pages,(function(e){return i("ul",{key:e.path},[i("li",[t._v(t._s(e.path)+": "+t._s(e.visitors))])])}))],2)}),[],!1,null,null,null);const i=t({components:{TopPages:e.exports},data:function(){return{period:"last 7 days"}},created:function(){}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card p-4 mb-5"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.period,expression:"period"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.period=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"last 1 day"}},[t._v("Today")]),t._v(" "),i("option",{attrs:{value:"last 7 days"}},[t._v("Last 7 days")]),t._v(" "),i("option",{attrs:{value:"last 30 days"}},[t._v("Last 30 days")]),t._v(" "),i("option",{attrs:{value:"all time"}},[t._v("All time")])]),t._v(" "),i("top-pages",{attrs:{period:t.period}})],1)}),[],!1,null,null,null).exports;const n=t({props:{wait:{type:Number,default:500}},data:function(){return{sizeEmitted:!1}},render:function(){return this.$scopedSlots.default({})},mounted:function(){new ResizeObserver(this.onResize).observe(this.$el)},methods:{onResize:function(t){var e=this,i=t[0].contentRect,n={width:i.width,height:i.height};if(!this.sizeEmitted)return this.$emit("size",n),void(this.sizeEmitted=!0);this.timeout||this.$emit("resizeStart",n),clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.$emit("resizeEnd",n),e.timeout=null}),this.wait)}}},undefined,undefined,!1,null,null,null).exports;Statamic.booting((function(){Statamic.$components.register("resize-container",n),Statamic.$components.register("analytics-dashboard",i)}))})();