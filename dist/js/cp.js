(()=>{"use strict";const t={props:{period:{type:String}},data:function(){return{data:void 0}},watch:{period:{immediate:!0,handler:function(){this.loadData()}}},methods:{loadData:function(){var t=this;this.$axios.post("/cp/analytics/dashboard/stats",{type:this.type,period:this.period}).then((function(e){t.data=e.data.data}))}}};function e(t,e,s,i,n,o,r,a){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):n&&(l=a?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}const s=e({mixins:[t],data:function(){return{type:"sources"}},computed:{sources:function(){var t;return null!==(t=this.data)&&void 0!==t?t:[]}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("h3",{staticClass:"font-bold"},[t._v("Top Sources")]),t._v(" "),t._l(t.sources,(function(e){return s("div",{key:e.source,staticClass:"flex justify-between"},[s("div",{staticClass:"flex-grow"},[t._v(t._s(e.source||"Direct / None"))]),t._v(" "),s("div",{staticClass:"text-right"},[t._v(t._s(e.visitors))])])}))],2)}),[],!1,null,null,null).exports;const i=e({mixins:[t],data:function(){return{type:"pages"}},computed:{pages:function(){var t;return null!==(t=this.data)&&void 0!==t?t:[]}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("h3",{staticClass:"font-bold"},[t._v("Top Pages")]),t._v(" "),t._l(t.pages,(function(e){return s("div",{key:e.path,staticClass:"flex justify-between"},[s("div",{staticClass:"flex-grow"},[t._v(t._s(e.path))]),t._v(" "),s("div",{staticClass:"text-right"},[t._v(t._s(e.visitors))])])}))],2)}),[],!1,null,null,null).exports;const n=e({mixins:[t],data:function(){return{type:"locations"}},computed:{locations:function(){var t;return null!==(t=this.data)&&void 0!==t?t:[]}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("h3",{staticClass:"font-bold"},[t._v("Locations")]),t._v(" "),t._l(t.locations,(function(e){return s("div",{key:e.country,staticClass:"flex justify-between"},[s("div",{staticClass:"flex-grow"},[t._v(t._s(e.country))]),t._v(" "),s("div",{staticClass:"text-right"},[t._v(t._s(e.visitors))])])}))],2)}),[],!1,null,null,null).exports;var o=e({mixins:[t],data:function(){return{type:"browsers"}},computed:{items:function(){var t;return null!==(t=this.data)&&void 0!==t?t:[]},key:function(){return{browsers:"browser",operatingSystems:"os",devices:"device"}[this.type]}},methods:{setType:function(t){this.type=t,this.loadData()}}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("div",{staticClass:"flex justify-between"},[s("h3",{staticClass:"font-bold"},[t._v("Devices")]),t._v(" "),s("div",{staticClass:"flex gap-2",staticStyle:{gap:"0.5rem"}},[s("button",{on:{click:function(e){return t.setType("browsers")}}},[t._v("Browser")]),t._v(" "),s("button",{on:{click:function(e){return t.setType("operatingSystems")}}},[t._v("OS")]),t._v(" "),s("button",{on:{click:function(e){return t.setType("devices")}}},[t._v("Size")])])]),t._v(" "),t._l(t.items,(function(e){return s("div",{key:e[t.key],staticClass:"flex justify-between"},[s("div",{staticClass:"flex-grow"},[t._v(t._s(e[t.key]))]),t._v(" "),s("div",{staticClass:"text-right"},[t._v(t._s(e.visitors))])])}))],2)}),[],!1,null,null,null);const r=e({components:{Sources:s,Pages:i,Locations:n,Devices:o.exports},data:function(){return{period:"last 7 days"}},created:function(){}},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card p-4 mb-5"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.period,expression:"period"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.period=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"last 1 day"}},[t._v("Today")]),t._v(" "),s("option",{attrs:{value:"last 7 days"}},[t._v("Last 7 days")]),t._v(" "),s("option",{attrs:{value:"last 30 days"}},[t._v("Last 30 days")]),t._v(" "),s("option",{attrs:{value:"all time"}},[t._v("All time")])]),t._v(" "),s("div",{staticClass:"mt-8 grid gap-8 grid-cols-2",staticStyle:{gap:"2rem","grid-template-columns":"repeat(2, minmax(0, 1fr))"}},[s("sources",{attrs:{period:t.period}}),t._v(" "),s("pages",{attrs:{period:t.period}}),t._v(" "),s("locations",{attrs:{period:t.period}}),t._v(" "),s("devices",{attrs:{period:t.period}})],1)])}),[],!1,null,null,null).exports;const a=e({props:{wait:{type:Number,default:500}},data:function(){return{sizeEmitted:!1}},render:function(){return this.$scopedSlots.default({})},mounted:function(){new ResizeObserver(this.onResize).observe(this.$el)},methods:{onResize:function(t){var e=this,s=t[0].contentRect,i={width:s.width,height:s.height};if(!this.sizeEmitted)return this.$emit("size",i),void(this.sizeEmitted=!0);this.timeout||this.$emit("resizeStart",i),clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.$emit("resizeEnd",i),e.timeout=null}),this.wait)}}},undefined,undefined,!1,null,null,null).exports;Statamic.booting((function(){Statamic.$components.register("resize-container",a),Statamic.$components.register("analytics-dashboard",r)}))})();